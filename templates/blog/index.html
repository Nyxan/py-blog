{% extends "base.html" %}

{% block title %}
  <title>Home page</title>
{% endblock %}

{% block content %}
  <h1>Blog Home</h1>
  <p>Welcome to the blog!</p>
  <h3>Blog content:</h3>
  <br>
  {% if post_list %}
  <ul class="sidebar-nav list-group">
    {% for post in post_list %}
      <li class="list-group-item">
        <h4>{{ forloop.counter }}: <a href="{% url 'blog:post-detail' post.id %}">{{ post.title }}</a></h4>
        <p>{{ post.content }}</p>
        <p><strong>Author:</strong> {{ post.owner.username }}</p>
        <p><strong>Number of comments:</strong> {{ post.comments.count }}</p>
        {% if post.comments.exists %}
          <p><strong>{{ post.comments.last.user.username }}:</strong> {{ post.comments.last.content }}</p>
          {% endif %}
      </li>
    {% endfor %}
  {% endif %}
  </ul>
{% endblock %}